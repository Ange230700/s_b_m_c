%% docs\mvp\diagrams\react_app_structure.mmd
flowchart TD

    %% ROOT
    App[App.tsx] --> Router[AppRouter]

    %% PUBLIC AREA (CUSTOMER)
    Router --> PublicLayout

    subgraph PublicApp["Public (Customer) Area"]
        PublicLayout[PublicLayout]
        PublicLayout --> PublicHeader[PublicHeader]
        PublicLayout --> PublicMain[PublicMainOutlet]
        PublicLayout --> PublicFooter[PublicFooter]

        %% Public routes
        PublicMain --> CatalogPage[CatalogPage]
        PublicMain --> ProductDetailPage[ProductDetailPage]
        PublicMain --> OrderFormPage[OrderFormPage]
        PublicMain --> OrderConfirmationPage[OrderConfirmationPage]

        %% Public shared UI
        CatalogPage --> ProductCard[ProductCard]
        CatalogPage --> Pagination[Pagination]
        ProductDetailPage --> ProductGallery[ProductGallery]
        ProductDetailPage --> SizeSelector[SizeSelector]
        OrderFormPage --> OrderForm[OrderForm]
        OrderForm --> FormField[FormField]
        OrderForm --> SubmitButton[SubmitButton]
    end

    %% ADMIN AREA (ATELIER)
    Router --> AdminLayout

    subgraph AdminApp["Admin (Atelier) Area"]
        AdminLayout[AdminLayout]
        AdminLayout --> AdminSidebar[AdminSidebar]
        AdminLayout --> AdminTopbar[AdminTopbar]
        AdminLayout --> AdminMain[AdminMainOutlet]

        %% Admin routes
        AdminMain --> AdminLoginPage[AdminLoginPage]
        AdminMain --> AdminDashboardPage[AdminDashboardPage]
        AdminMain --> AdminProductsPage[AdminProductsPage]
        AdminMain --> AdminOrdersPage[AdminOrdersPage]
        AdminMain --> AdminProductFormPage[AdminProductFormPage]

        %% Admin shared UI
        AdminDashboardPage --> StatCard[StatCard]
        AdminProductsPage --> ProductTable[ProductTable]
        AdminProductsPage --> ProductRow[ProductRow]
        AdminOrdersPage --> OrderTable[OrderTable]
        AdminOrdersPage --> OrderRow[OrderRow]
        AdminProductFormPage --> ProductForm[ProductForm]
        ProductForm --> InputField[InputField]
        ProductForm --> SizeStockEditor[SizeStockEditor]
    end

    %% CROSS-CUTTING
    App --> QueryClientProvider[QueryClientProvider / DataProvider]
    App --> ThemeProvider[ThemeProvider]
    App --> ToastProvider[Toast/NotificationProvider]
